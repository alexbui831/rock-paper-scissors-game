<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>

<body>
    <div id="container">
        <button id="rock">Rock</button>
        <button id="paper">Paper</button>
        <button id="scissor">Scissor</button>
    </div>
    <script>
        // Function that starts the game and allows user to choose choice
        function playerChoice(buttonClicked) {
            if (buttonClicked == "rock" || buttonClicked == "paper" || buttonClicked == "scissor") {
                console.log("Player choice: " + buttonClicked);
                return buttonClicked;
            }
            else {
                alert("Wrong answer, try again.")
            }
        }
        // Function that makes the computer choose a random choice
        function computerPlayer() {
            let answers = ["rock", "paper", "scissor"];
            let computerChoice = answers[Math.floor(Math.random() * 3)];
            console.log("Computer choice: " + computerChoice);
            return computerChoice;
        }
        // Function that anaylzes who won the game
        function playRound(playerChoice, computerChoice) {
            if (playerChoice == computerChoice) {
                return 0;
            }
            else if ((playerChoice == "rock" && computerChoice == "scissor") || (playerChoice == "paper" && computerChoice == "rock") || (playerChoice == "scissor" && computerChoice == "paper")) {
                return 1;
            }
            else if ((playerChoice == "rock" && computerChoice == "paper") || (playerChoice == "paper" && computerChoice == "scissor") || (playerChoice == "scissor" && computerChoice == "rock")) {
                return 2;
            }
            else {
                console.log("The game is broken, RELOAD!")
            }
        }
        // Starting function that also counts up total score and displays who won the game.
        function game(buttonClicked) {
            let playerScore = 0;
            let computerScore = 0;
            let player = playerChoice(buttonClicked);
            let computer = computerPlayer();
            let gameWinner = playRound(player, computer);

            if (gameWinner == 0) {
                console.log("TIE");
            }
            else if (gameWinner == 1) {
                console.log("WINNER");
                playerScore++;
            }
            else if (gameWinner == 2) {
                console.log("LOSER");
                computerScore++
            }

            console.log("Player Score: " + playerScore);
            console.log("Computer Score: " + computerScore);

            if (playerScore > computerScore) {
                console.log("You beat the Computer!!!");
            }
            else if (playerScore < computerScore) {
                console.log("You lost against a Computer!!!")
            }
            else {
                console.log("Game resulted in a TIE!!!")
            }
        }
        //  selects container of buttons
        const container = document.querySelector("#container");

        //  creates node list for all the buttons
        const buttonList = container.querySelectorAll("button");

        buttonList.forEach((button) => {
            button.addEventListener('click', () => {
                if (button.id === "rock") {
                    game("rock");
                }
                else if (button.id === "paper") {
                    game("paper");
                }
                else if (button.id === "scissor") {
                    game("scissor");
                }
                else {
                    return;
                }
            });
        });
    </script>
</body>

</html>